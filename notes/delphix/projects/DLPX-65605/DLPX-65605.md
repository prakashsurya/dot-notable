---
title: delphix/projects/DLPX-65605
---

# DLPX-65605 Timeout waiting for zvol link to be created

* https://jira.delphix.com/browse/DLPX-65605

## Next

* Waiting to see if issue will reproduce with 400 VDBs

## Synopsis

According to John as pointed out in the bug, the issue appears to be a
combination of the following factors:

1. The function used to remove ZVOLs can take a relatively long time to
   remove a single ZVOL.
2. Each ZVOL is removed in a single threaded manner.
3. Each ZVOL is created in a single threaded manner.
4. A relatively large bach of ZVOL removals (prior to a ZVOL create) can
   significantly impact ZVOL creation latency due to the 3 points above.

## Notes

* Scalability system used to reproduce issue:
  * http://scale-dlpx-trunk-l100ms-2.scale-dc.delphix.com

## Log

### 2019.9.18

With help from Kevin, we've regenerated the DE (again) and bumped the
number of VDBs to 400, and are waiting to see if it'll reproduce with
more VDBs.

### 2019.9.17

I haven't been able to reproduce the error on the original DE where the
issue was previously occuring. With that said, this original DE has been
regenerated since we last saw the issue, so the version of the software
that's currently running on the system isn't exactly the same software
that was previously running (e.g. both zfs and the kernel versions have
changed).

With about 110 VDBs running on this system, set to a refresh interval of
15 minutes each, the issue has not cropped up yet.
